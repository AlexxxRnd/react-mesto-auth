{"version":3,"sources":["images/logo.svg","images/loading.svg","images/trash.svg","images/ok.svg","images/err.svg","components/ProtectedRoute.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Register.js","components/Login.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/PopupAddCard.js","components/PopupEditAvatar.js","components/ImagePopup.js","components/InfoTooltip.js","utils/Api.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","ProtectedRoute","_ref","Component","component","props","Object","objectWithoutProperties","react_default","a","createElement","react_router","loggedIn","to","Header","onSignOut","userEmail","location","useLocation","className","src","logo","alt","pathname","react_router_dom","onClick","Footer","Date","getFullYear","UserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","concat","cardDeleteButtonClassName","aria-label","type","TrashImg","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","user","avatar","loadingImg","about","map","components_Card","key","withRouter","onRegister","history","useHistory","_React$useState","useState","_React$useState2","slicedToArray","email","setEmail","_React$useState3","_React$useState4","password","setPassword","push","placeholder","required","value","onChange","e","target","preventDefault","Login","onLogin","PopupWithForm","isOpen","id","onClose","onSubmit","title","children","buttonText","PopupEditProfile","onUpdateUser","setName","description","setDescription","useEffect","components_PopupWithForm","minLength","maxLength","PopupAddCard","onAddCard","setLink","PopupEditAvatar","onUpdateAvatar","setAvatar","ImagePopup","InfoTooltip","isSuccess","okIcon","errIcon","ApiRequest","Api","data","classCallCheck","this","_url","url","_header","header","res","ok","json","Promise","reject","status","_this","fetch","headers","then","_getResponse","_this2","_this3","method","body","JSON","stringify","_this4","_this5","_this6","_this7","_this8","authorization","Content-Type","BASE_URL","getResponse","register","login","checkTokenValid","token","Authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_React$useState5","_React$useState6","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_React$useState7","_React$useState8","isInfoTooltipOpen","setIsInfoTooltipOpen","_React$useState9","_React$useState10","selectedCard","setSelectedCard","_React$useState11","_React$useState12","setCurrentUser","_React$useState13","_React$useState14","setCards","_React$useState15","_React$useState16","isLogged","setIsLogged","_React$useState17","_React$useState18","setUserEmail","_React$useState19","_React$useState20","isAuthSuccess","setIsAuthSuccess","openInfoTooltip","closeAllPopups","handleTokenCheck","jwt","localStorage","getItem","Auth","catch","error","console","log","all","getUserInfo","getInitialCards","_ref2","userData","initialCards","closeByEscape","evt","document","addEventListener","removeEventListener","Provider","components_Header","removeItem","path","components_Register","components_Login","setItem","components_ProtectedRoute","unlikeCard","newCard","state","c","likeCard","deleteCard","filter","components_Footer","EditProfilePopup","setUserInfo","components_PopupAddCard","addCard","toConsumableArray","components_PopupEditAvatar","avatarLink","setUserAvatar","components_ImagePopup","components_InfoTooltip","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","components_App"],"mappings":"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","file":"static/js/main.082f957d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.400f7dde.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.be00fc4a.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.4220563a.svg\";","module.exports = __webpack_public_path__ + \"static/media/ok.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/err.4072126c.svg\";","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute; ","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nfunction Header({ loggedIn, onSignOut, userEmail }) {\n    const location = useLocation();\n    return (\n        <header className=\"header\">\n            <img\n                className=\"header__logo\"\n                src={logo}\n                alt=\"логотип\"\n            />\n            {location.pathname === '/sign-in' && (\n                <NavLink to=\"/sign-up\" className=\"header__login-btn\">\n                    Регистрация\n                </NavLink>\n            )}\n            {location.pathname === '/sign-up' && (\n                <NavLink to=\"/sign-in\" className=\"header__login-btn\">\n                    Войти\n                </NavLink>\n            )}\n            {loggedIn && (\n                <div className=\"header__user-email\">\n                    {userEmail}\n                    <button\n                        className=\"header__signout-btn\"\n                        onClick={onSignOut}>\n                        Выйти\n                    </button>\n                </div>\n            )}\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">AlexR© {new Date().getFullYear()} Mesto Russia</p>\n        </footer>\n    );\n};\n\nexport default Footer;","import React from 'react';\n\nexport const UserContext = React.createContext();","import React from 'react';\nimport TrashImg from '../images/trash.svg';\nimport { UserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n    const currentUser = React.useContext(UserContext);\n\n    const isOwn = card.owner._id === currentUser._id;\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    const cardLikeButtonClassName = (\n        `element__like-btn ${isLiked ? 'element__like-btn_active' : ''}`\n    );\n\n    const cardDeleteButtonClassName = (\n        `element__delete-btn ${isOwn ? 'element__delete-btn_visible' : 'element__delete-btn_hidden'}`\n    );\n\n    function handleClick() {\n        onCardClick(card);\n    };\n\n    function handleLikeClick() {\n        onCardLike(card);\n    };\n\n    function handleDeleteClick() {\n        onCardDelete(card);\n    };\n\n    return (\n        <article className=\"element\">\n            <button aria-label=\"Удалить\" className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}>\n                <img\n                    src={TrashImg}\n                    alt=\"удалить\"\n                    className=\"element__trash\"\n                />\n            </button>\n            <img className=\"element__photo\" src={card.link} alt={card.name} onClick={handleClick} />\n            <div className=\"element__info\">\n                <h2 className=\"element__title\">{card.name}</h2>\n                <div className=\"element__like-container\">\n                    <button\n                        aria-label=\"Оценить\"\n                        className={cardLikeButtonClassName}\n                        type=\"button\"\n                        onClick={handleLikeClick}\n                    />\n                    <p className=\"element__like-count\">{card.likes.length}</p>\n                </div>\n            </div>\n        </article>\n    );\n};\n\nexport default Card;","import React from 'react';\nimport loadingImg from '../images/loading.svg';\nimport Card from './Card';\n\nimport { UserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\n    const user = React.useContext(UserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <img\n                    className=\"profile__avatar\"\n                    src={user.avatar ? user.avatar : loadingImg}\n                    alt=\"аватар\"\n                />\n                <button className=\"profile__avatar-edit-btn\" onClick={onEditAvatar} />\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{user.name ? user.name : \"загрузка...\"}</h1>\n                    <button\n                        aria-label=\"Редактировать информацию\"\n                        className=\"profile__edit-btn\"\n                        type=\"button\"\n                        onClick={onEditProfile}\n                    />\n                    <h2 className=\"profile__subname\">{user.about ? user.about : \"загрузка...\"}</h2>\n                </div>\n                <button\n                    aria-label=\"Добавить место\"\n                    className=\"profile__add-btn\"\n                    type=\"button\"\n                    onClick={onAddPlace}\n                />\n            </section>\n            <section className=\"elements\">\n                {cards.map((card) => {\n                    return (\n                        <Card\n                            card={card}\n                            onCardClick={onCardClick}\n                            onCardLike={onCardLike}\n                            onCardDelete={onCardDelete}\n                            key={card._id}\n                        />\n                    );\n                })}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react';\nimport { withRouter, NavLink, useHistory } from 'react-router-dom';\n\nfunction Register({ onRegister, loggedIn }) {\n    const history = useHistory();\n    function handleSubmit(e) {\n        e.preventDefault();\n        onRegister({ email, password });\n    }\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n    if (loggedIn) {\n        history.push('/');\n    }\n    return (\n        <main className=\"content\">\n            <form className=\"account__form\">\n                <h2 className=\"account__title\">Регистрация</h2>\n                <input\n                    className=\"account__input\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required=\"\"\n                    value={email || \"\"}\n                    onChange={handleChangeEmail}\n                />\n                <input\n                    className=\"account__input\"\n                    name=\"password\"\n                    type=\"text\"\n                    placeholder=\"Пароль\"\n                    required=\"\"\n                    value={password || \"\"}\n                    onChange={handleChangePassword}\n                />\n                <button\n                    className=\"account__submit-btn\"\n                    type=\"button\"\n                    onClick={handleSubmit}\n                >\n                    Зарегистрироваться\n                </button>\n                <NavLink to=\"/sign-in\" className=\"account__subtitle\">Уже зарегистрированы? Войти</NavLink>\n            </form>\n        </main>\n    );\n};\n\nexport default withRouter(Register); ","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login({ onLogin, loggedIn }) {\n    const history = useHistory();\n    function handleSubmit(e) {\n        e.preventDefault();\n        onLogin({ email, password });\n    }\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n    if (loggedIn) {\n        history.push('/');\n    }\n    return (\n        <main className=\"content\">\n            <form className=\"account__form\">\n                <h2 className=\"account__title\">Вход</h2>\n                <input\n                    className=\"account__input\"\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required=\"\"\n                    value={email || \"\"}\n                    onChange={handleChangeEmail}\n                />\n                <input\n                    className=\"account__input\"\n                    name=\"password\"\n                    type=\"text\"\n                    placeholder=\"Пароль\"\n                    required=\"\"\n                    value={password || \"\"}\n                    onChange={handleChangePassword}\n                />\n                <button\n                    className=\"account__submit-btn\"\n                    type=\"button\"\n                    onClick={handleSubmit}\n                >\n                    Войти\n                </button>\n            </form>\n        </main>\n    );\n};\n\nexport default Login;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`} id={`popup_${props.name}`}>\n      <div className=\"popup__container\">\n        <button\n          aria-label=\"Закрыть окно\"\n          className=\"popup__close-btn\"\n          type=\"button\"\n          onClick={props.onClose}\n        />\n        <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <button\n            className=\"popup__save-btn\"\n            type=\"submit\"\n          >\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PopupWithForm;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport { UserContext } from '../contexts/CurrentUserContext';\n\nfunction PopupEditProfile({ isOpen, onClose, onUpdateUser }) {\n    const currentUser = React.useContext(UserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"editProfile\"\n            title=\"Редактировать профиль\"\n            buttonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                className=\"popup__input popup__input_type_name\"\n                id=\"name-input\"\n                name=\"name\"\n                type=\"text\"\n                placeholder=\"Имя\"\n                minLength={2}\n                maxLength={40}\n                required=\"\"\n                value={name || \"\"}\n                onChange={handleChangeName}\n            />\n            <span className=\"popup__input-error name-input-error\" />\n            <input\n                className=\"popup__input popup__input_type_job\"\n                id=\"job-input\"\n                name=\"about\"\n                type=\"text\"\n                placeholder=\"О себе\"\n                minLength={2}\n                maxLength={200}\n                required=\"\"\n                value={description || \"\"}\n                onChange={handleChangeDescription}\n            />\n            <span className=\"popup__input-error job-input-error\" />\n        </PopupWithForm>\n    );\n};\n\nexport default PopupEditProfile;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction PopupAddCard({ isOpen, onClose, onAddCard }) {\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddCard({\n            name,\n            link,\n        });\n    }\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n    function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n\n    React.useEffect(() => {\n        setName('');\n        setLink('');\n    }, [isOpen]);\n\n    return (\n        <PopupWithForm\n            name=\"addCard\"\n            title=\"Новое место\"\n            buttonText=\"Создать\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                className=\"popup__input popup__input_type_mesto-name\"\n                id=\"mesto-input\"\n                name=\"name\"\n                type=\"text\"\n                placeholder=\"Название\"\n                minLength={2}\n                maxLength={30}\n                required=\"\"\n                value={name || \"\"}\n                onChange={handleChangeName}\n            />\n            <span className=\"popup__input-error mesto-input-error\" />\n            <input\n                className=\"popup__input popup__input_type_url\"\n                id=\"url-input\"\n                name=\"link\"\n                type=\"url\"\n                placeholder=\"Ссылка на картинку\"\n                required=\"\"\n                value={link || \"\"}\n                onChange={handleChangeLink}\n            />\n            <span className=\"popup__input-error url-input-error\" />\n        </PopupWithForm>\n    );\n};\n\nexport default PopupAddCard;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction PopupEditAvatar({ isOpen, onClose, onUpdateAvatar }) {\n    const [avatar, setAvatar] = React.useState('');\n\n    function handleChangeAvatar(e) {\n        setAvatar(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n            avatar: avatar,\n        });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"edit_avatar\"\n            title=\"Обновить аватар\"\n            buttonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                className=\"popup__input popup__input_type_avatar\"\n                id=\"avatar\"\n                name=\"avatar\"\n                type=\"url\"\n                placeholder=\"Ссылка на картинку\"\n                required=\"\"\n                value={avatar || \"\"}\n                onChange={handleChangeAvatar}\n            />\n            <span className=\"popup__input-error avatar-error\" />\n        </PopupWithForm>\n    );\n};\n\nexport default PopupEditAvatar;","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n    return (\n        <div className={`popup popup_img-open ${card.link ? \"popup_opened\" : \"\"}`} id=\"popup_img\">\n            <div className=\"popup__container-img\">\n                <button\n                    aria-label=\"Закрыть окно\"\n                    className=\"popup__close-btn\"\n                    type=\"button\"\n                    onClick={onClose}\n                />\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\n                <h2 className=\"popup__title-img\">{card.name}</h2>\n            </div>\n        </div>\n    );\n};\n\nexport default ImagePopup;","import React from 'react';\nimport okIcon from '../images/ok.svg';\nimport errIcon from '../images/err.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <div className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n            <div className=\"popup__container\">\n                <button\n                    aria-label=\"Закрыть окно\"\n                    className=\"popup__close-btn\"\n                    type=\"button\"\n                    onClick={props.onClose}\n                />\n                <form className=\"popup__form\" name={props.name}>\n                    <img\n                        className=\"infotooltip__logo\"\n                        src={props.isSuccess ? okIcon : errIcon}\n                    />\n                    <h2 className=\"infotooltip__message\">{props.isSuccess\n                        ? 'Вы успешно зарегистрировались!'\n                        : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default InfoTooltip;","class Api {\n    constructor(data) {\n        this._url = data.url;\n        this._header = data.header;\n    };\n\n    _getResponse(res) {\n        if (res.ok) {\n            return res.json();\n        };\n        return Promise.reject(`Ошибка: ${res.status}`)\n    };\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._header\n        })\n            .then(res => this._getResponse(res));\n    };\n\n    getUserInfo() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._header\n        })\n            .then(res => this._getResponse(res));\n    };\n\n    setUserInfo(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._header,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(res => this._getResponse(res));\n    };\n\n    setUserAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._header,\n            body: JSON.stringify({\n                avatar: data.avatar,\n            })\n        })\n            .then(res => this._getResponse(res));\n    };\n\n    addCard(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._header,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(res => this._getResponse(res));\n    };\n\n    deleteCard(data) {\n        return fetch(`${this._url}/cards/${data}`, {\n            method: 'DELETE',\n            headers: this._header\n        })\n            .then(res => this._getResponse(res));\n    };\n\n\n    likeCard(data) {\n        return fetch(`${this._url}/cards/${data}/likes`, {\n            method: 'PUT',\n            headers: this._header\n        })\n            .then(res => this._getResponse(res));\n    };\n\n    unlikeCard(data) {\n        return fetch(`${this._url}/cards/${data}/likes`, {\n            method: 'DELETE',\n            headers: this._header\n        })\n            .then(res => this._getResponse(res));\n    };\n};\n\nconst ApiRequest = new Api({\n    url: 'https://mesto.nomoreparties.co/v1/cohort-41',\n    header: {\n        authorization: '6e85cbb9-d07a-454d-87dc-f5801edbeaad',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default ApiRequest;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const getResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  };\n  return Promise.reject(`Ошибка: ${res.status}`)\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(email, password)\n  })\n    .then(res => getResponse(res));\n};\n\nexport const login = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(password, email)\n  })\n    .then(res => getResponse(res));\n};\n\nexport const checkTokenValid = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    },\n  })\n    .then(res => getResponse(res));\n};","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport Register from './Register'\nimport Login from './Login'\nimport EditProfilePopup from './EditProfilePopup'\nimport PopupAddCard from './PopupAddCard'\nimport PopupEditAvatar from './PopupEditAvatar'\nimport ImagePopup from './ImagePopup'\nimport InfoTooltip from './InfoTooltip'\nimport ApiRequest from '../utils/Api.js'\nimport * as Auth from '../utils/Auth.js'\nimport { UserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLogged, setIsLogged] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const [isAuthSuccess, setIsAuthSuccess] = React.useState(false)\n  const history = useHistory();\n\n  React.useEffect(() => {\n    Promise.all([ApiRequest.getUserInfo(), ApiRequest.getInitialCards()])\n      .then(([userData, initialCards]) => {\n        setCurrentUser(userData)\n        setCards(initialCards)\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (!isLiked) {\n      ApiRequest.likeCard(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n        .catch((error) => {\n          console.log(`Ошибка: ${error}`);\n        });\n    } else {\n      ApiRequest.unlikeCard(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n        .catch((error) => {\n          console.log(`Ошибка: ${error}`);\n        });\n    }\n  }\n\n  function handleCardDelete(card) {\n    ApiRequest.deleteCard(card._id).then(() => {\n      setCards((cards) => cards.filter((c) => c._id !== card._id));\n    })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  };\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  };\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  };\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  };\n\n  function openInfoTooltip() {\n    setIsInfoTooltipOpen(true);\n  };\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleRegister(email, password) {\n    Auth.register(email, password)\n      .then(() => {\n        setIsAuthSuccess(true)\n        openInfoTooltip();\n        history.push('/sign-in');\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n        setIsAuthSuccess(false)\n        openInfoTooltip();\n      });\n  };\n\n  function handleLogin(email, password) {\n    Auth.login(email, password)\n      .then((data) => {\n        setIsLogged(true);\n        localStorage.setItem('jwt', data.token);\n        handleTokenCheck();\n        history.push('/');\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n        setIsLogged(false);\n        setIsAuthSuccess(false)\n        openInfoTooltip();\n      });\n  };\n\n  function handleTokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (!jwt) {\n      return;\n    }\n    Auth.checkTokenValid(jwt)\n      .then((data) => {\n        setUserEmail(data.data.email)\n        setIsLogged(true);\n        history.push('/');\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n      });\n  };\n\n  function handleSignOut() {\n    setIsLogged(false);\n    localStorage.removeItem('jwt');\n    setUserEmail('');\n    history.push('/sign-in');\n  };\n\n  React.useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  React.useEffect(() => {\n    if (isLogged) {\n      history.push('/');\n    }\n  }, [isLogged]);\n\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard.link\n\n  React.useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen])\n\n  function handleUpdateUser(name, about) {\n    ApiRequest.setUserInfo(name, about)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n      });\n  }\n\n  function handleAddCard(data) {\n    ApiRequest.addCard(data)\n      .then((data) => {\n        setCards([data, ...cards]);\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n      });\n  }\n\n  function handleUpdateAvatar(avatarLink) {\n    ApiRequest.setUserAvatar(avatarLink)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((error) => {\n        console.log(`Ошибка: ${error}`);\n      });\n  }\n\n  return (\n    <UserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header\n          loggedIn={isLogged}\n          onSignOut={handleSignOut}\n          userEmail={userEmail}\n        />\n\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register\n              loggedIn={isLogged}\n              onRegister={handleRegister}\n            />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login\n              loggedIn={isLogged}\n              onLogin={handleLogin}\n            />\n          </Route>\n\n          <ProtectedRoute\n            path=\"/\"\n            loggedIn={isLogged}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onClose={closeAllPopups}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <PopupAddCard\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddCard}\n        />\n\n        <PopupEditAvatar\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <InfoTooltip\n          onClose={closeAllPopups}\n          isOpen={isInfoTooltipOpen}\n          isSuccess={isAuthSuccess}\n        />\n\n      </div>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}